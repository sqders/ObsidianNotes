# Определение
TreeMap - это класс, реализующий [[интерфейс Map]], хранит ключи и значения в отсортированном по возрастанию порядке (естественном)
# Особенности
1. **Все элементы отсортированы по возрастанию ключа и это означает, что тип ключа должен реализовывать [[Comparable и Comparator|интерфейс comparable]] или при инициализации в конструкторе указать компаратор для ключей.**
2. В основе TreeMap лежит красно-чёрное дерево. Это позволяет методам работать быстро, но не быстрее, чем в [[Класс HashMap|HashMap]] 
3. Значение в `TreeMap` могут быть неуникальными, но ключи уникальны.
4. Можно развернуть Map в другую сторону - методом `descendingMap()`
5. Можно удобно брать части-отрезки записей методами `tailMap(T fromKey)` и `headMap(T toKey)`, `lastEntry()` и `firstEntry()`
6. При работе метода `containsValue()` сравнение происходит только при помощи СРАВНЕНИЕ => новый созданный объект с такими же полями можно будет найти в TreeMap, даже не добавив его, если там уже был другой объект с такими же полями:
   ![[Pasted image 20230609104122.png]]
   ## Красно-черное дерево
   Красно-черное дерево - один из видов самобалансирующихся двоичных деревьев поиска. 
   Зачем использовать? Чтобы не возникало вот таких ситуаций, которые возникают в обычном двоично дереве:
   ![[Pasted image 20230609104436.png]]
   Суть работы КЧ дерева - оно самобалансируется, не допуская ситуации выше. на каком-то этапе дерево понимает, что "всё идёт в одну сторону" и нужно перегруппироваться. Делает он это, взял за корень срединный элемент (в самом простом случае) и получаем следующее:
   ![[Pasted image 20230609104640.png]]
# Применение / Примеры
**Основная цель применения `TreeMap` - нахождение каких-то range-ей, т.е. отрезков**
