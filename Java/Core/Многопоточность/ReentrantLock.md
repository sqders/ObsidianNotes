# Определение
**Класс `ReentrantLock` потокобезопасен**

`ReentrantLock` - это класс, реализующий интерфейс `Lock` и обеспечивающий потокобезопасность, подобно [[Synchronized]]. Вызывая метод `lock()` и `unlock()` мы добиваемся такого же поведения, как и при ручной синхронизации потоков. Если поток вызвал `lock()`, то все остальные потоки ждут и не могут исполняться(после того, как дойдут до метода `lock()` где-либо), пока этот же поток не вызовет `unlock()`. Поток, который вызвал метод `lock()` может вызывать его любое количество раз, однако, чтобы освободить выполнение, он же должен вызвать `unlock()` то же число раз.
# Зачем необходим?
Чтобы синхронизировать потоки. Мы можем использовать его вместо [[Synchronized|synchronized]], т.к. он имеет плюсы при работе со взаимной блокировкой ([[Deadlock]]).
# Методы
1. `lock()` - блокирует доступ к ресурсу
2. `unlock()` - освобождает ресурс. **ВСЕГДА ВЫЗЫВАТЬ В БЛОКЕ `finally`**
3. `trylock()` - пытается получить доступ к ресурсу, если не получилось - возвращает false.
# Пример
![[Pasted image 20230604113732.png]]