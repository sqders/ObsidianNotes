# Определение
**Thread pool** - пул потоков, некое множество потоков, в котором определяется какие потоки будут выполняться, сколько их будет и т.п.

**Пул потоков** - это паттерн от **пула объектов**. Цель - **сократить издержки с созданием, уничтожением потоков**. Цель - автоматическое исполнение задач в отдельном потоке без создания этих потоков вручную.
# Реализация
В Java пулы потоков реализуются через класс `ExecutorService`, экземпляры пулов через статическую фабрику-класс `Executors`
# Методы
**`.submit()`** - метод для добавления задачи в исполнитель
**`.shutdown()`** - метод, сообщающий, что **все задачи, которые мы хотели передать исполнителю - переданы** и более задач ожидать не требуется.
**`.shutdownNow()`** - метод, который **прекращает работу исполнителя, вне зависимости от того, выполнил он все задачи или нет**.
## Виды
1. `FixedThreadPool` - содержит заранее известное количество потоков. Задачи решаются последовательно, например: имеем 5 потоков и 13 задач, работа будет идти так: 5 задач -> 5 задач -> 3 задачи
2. `CachedThreadPool` - содержит неизвестное заранее кол-во потоков
3. `SingleThreadExecutor` - 1 поток
4. `ScheduledTheadPool `- 
5. `WorkStealingThreadPool` - пул потоков, в котором можно перехватывать задачи. В отличие от `FixedThreadPool`, тут сама организация работы потоков другая. Имеем, например, 13 задач и 5 потоков, работа будет идти так: 5 потоков взяли 5 задач -> 1 задачу взял первый освободившийся -> 1 задача взял освободившийся и т.д.
# Использование
1. Подписываем наш пул на объекты `Runnable` с помощью его метода `submit()` - **подписывать можно бесконечно**, т.к. executor ожидает новых задач и не знает, когда они закончатся
2. Вызываем метод `shutdown()`, который означает, **были переданы уже все задачи, которые пул должен исполнить**. Именно он и запускает исполнение методов.
3. Можно далее вызвать `awaitTermination()` - это дает время на исполнение нашим потокам, если они не укладываются в это время, то они будут прерваны, это аналог `join()` для простого запуска потоков
Используется просто - создаем экземпляр `ExecutorService executor = Executors.newFixedThreadPool(2);`, здесь мы говорим, что у нашего пула будет в распоряжении какие-то 2 потока. Далее для использования пула - необходимо вызвать метод `submit()`, в ***КОТОРЫЙ ПЕРЕДАТЬ ОБЪЕКТ, РЕАЛИЗУЮЩИЙ ИНТЕРФЕЙС `Runnable`***, именно то, что будет находиться в методе `run()` этого объекта и будет выполнено потоками из пула. Однако, метод `submit()` не запускает потоки, а просто создает и подписывает потоки на задание. Исполнение начинается после метода `shutdown()` - он означает конец передачи подписываемых методов и потоки начинают их выполнение.
	Все операции буду выполнены постепенно и не будет хватание потоков за одну и ту же операцию, это обеспечивает сам пул потоков.
# Суть
Используется, когда необходимо много раз выполнить определенное задание, функцию, операцию. Мы просто пихаем какие-то там потоки в пул и они выполняют все те операции, на которые подписан пул потоков.