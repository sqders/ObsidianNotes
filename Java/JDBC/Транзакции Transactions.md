# Определение
Транзакция - операция, которая должна быть выполнена целостно, т.е. если одна из операций не прошла - все остальные должны быть отменены.
# Реализация
1. У `Connection` поставить `setAutoCommit(false)`
2. Если всё удачно - выполнить commit после завершения всех операций `connection.commit()`
Если что-то пошло не так - можно вызвать метод `connection.rollback()`, НО все операции с метаданными (CRUD таблиц, изменение имени колонок и т.п.) не будут возвращены в своё первоначальное состояние.
Также можно пользоваться **`Savepoint`** - их можно передавать в метод `rollback()`
![[Pasted image 20230623112752.png]]
В результате в таблице 1 запись - чтобы она отобразилась, обязательно необходимо вызвать connection.commit, но также можно вызвать`.releaseSavepoint(Savepoint point)` , чтобы к данному `Savepoint` нельзя было больше вернуться.
**Tip:** обычно rollback используется в `catch` блоке, например:
![[Pasted image 20230623113238.png]]